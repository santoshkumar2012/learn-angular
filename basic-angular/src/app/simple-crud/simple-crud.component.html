<app-header></app-header>
<div class="container">
<h2 class="mt-5"> {{title}}</h2>

<h2>{{ isEditMode ? 'Edit Employee' : 'Add Employee' }}</h2>

<button class="btn btn-primary" (click)="toggleForm()">
  {{ showForm ? 'Hide Form' : 'Add Employee' }}
</button>

<!-- Form -->
<div *ngIf="showForm" class="mt-3">
  <form (ngSubmit)="isEditMode ? updateEmployee() : addEmployee()" #empForm="ngForm">
    <input type="text" class="form-control mb-2" placeholder="Name" [(ngModel)]="formData.name" name="name" required>
    <input type="email" class="form-control mb-2" placeholder="Email" [(ngModel)]="formData.email" name="email" required>
    <input type="text" class="form-control mb-2" placeholder="Role" [(ngModel)]="formData.role" name="role" required>
    
    <button type="submit" class="btn btn-success">
      {{ isEditMode ? 'Update' : 'Add' }}
    </button>
    <button type="button" class="btn btn-secondary ms-2" (click)="cancelEdit()">Cancel</button>
  </form>
</div>

<hr />

<!-- Employee Table -->
<table class="table table-bordered mt-3">
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Role</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let emp of employees; let i = index">
      <td>{{ emp.name }}</td>
      <td>{{ emp.email }}</td>
      <td>{{ emp.role }}</td>
      <td>
        <button class="btn btn-sm btn-warning me-2" (click)="editEmployee(i)">Edit</button>
        <button class="btn btn-sm btn-danger" (click)="deleteEmployee(i)">Delete</button>
      </td>
    </tr>
  </tbody>
</table>



</div>